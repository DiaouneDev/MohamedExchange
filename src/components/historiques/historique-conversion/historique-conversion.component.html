<div *ngIf="errorMessage" class="alert alert-danger text-center">
  {{ errorMessage }}
</div>

<div class="container-fluid" style="margin-top: 80px;">
  <h2 class="text-center mb-4">Historique des conversions</h2>

  <!-- Tableau des conversions -->
  <div class="card shadow-sm">
    <div class="card-header bg-primary text-white">
      <h5 class="mb-0">La liste des conversions</h5>
    </div>
    <div class="card-body">
      <!-- Ajout de la classe table-responsive pour rendre le tableau défilable -->
      <div class="table-responsive">
        <table class="table table-striped table-bordered">
          <thead class="table-dark">
            <tr>
              <th>ID</th>
              <th>Base</th>
              <th>Cible</th>
              <th>Montant Base</th>
              <th>Montant Converti</th>
              <th>Date</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let conversion of conversions">
              <td>{{ conversion.id }}</td>
              <td>{{ conversion.base | uppercase }}</td>
              <td>{{ conversion.cible | uppercase }}</td>
              <td>{{ conversion.montantBase }} {{ conversion.base }}</td>
              <td>{{ conversion.montantConverti }} {{ conversion.cible }}</td>
              <td>{{ conversion.date | date: 'dd/MM/yyyy' }}</td>
              <td>
                <!-- Liste déroulante d'actions -->
                <div class="dropdown">
                  <button
                    class="btn btn-secondary dropdown-toggle"
                    type="button"
                    id="actionMenu"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    Action
                  </button>
                  <ul class="dropdown-menu" aria-labelledby="actionMenu">
                    <li>
                      <button
                        class="dropdown-item"
                        (click)="voirDetailsConversion(conversion.id)"
                      >
                        Détails Conversion
                      </button>
                    </li>
                    <li>
                      <button
                        class="dropdown-item text-danger"
                        (click)="supprimerConversion(conversion.id)"
                      >
                        Supprimer
                      </button>
                    </li>
                  </ul>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
